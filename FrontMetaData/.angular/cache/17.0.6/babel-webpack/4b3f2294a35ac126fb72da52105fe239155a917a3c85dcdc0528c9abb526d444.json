{"ast":null,"code":"import { FormGroup, FormControl, Validators, ReactiveFormsModule, FormsModule } from '@angular/forms';\nimport { CommonModule } from '@angular/common';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../core/services/policy.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nfunction ListPolicyUserComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8)(1, \"div\", 9)(2, \"div\", 10)(3, \"h5\", 11)(4, \"span\", 12);\n    i0.ɵɵelement(5, \"i\", 13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p\", 14)(8, \"span\", 12);\n    i0.ɵɵelement(9, \"i\", 15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"button\", 16)(12, \"span\", 12);\n    i0.ɵɵelement(13, \"i\", 17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(14, \" MetaData \");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const policy_r1 = ctx.$implicit;\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" \", policy_r1.nom, \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", policy_r1.rules, \" \");\n  }\n}\nexport class ListPolicyUserComponent {\n  constructor(policyService, router) {\n    this.policyService = policyService;\n    this.router = router;\n    this.listpolicy = [];\n    this.policy = [];\n    this.selectedPolicy = null;\n    // Initialisez votre formulaire ici\n    this.policyForm = new FormGroup({\n      nom: new FormControl('', [Validators.required]),\n      rules: new FormControl('', [Validators.required])\n    });\n  }\n  ngOnInit() {\n    this.loadPolicies();\n  }\n  loadPolicies() {\n    this.policyService.getPolicy().subscribe(data => {\n      this.listpolicy = data;\n    });\n  }\n  switchToAddMode() {\n    console.log('Passer à l\\'ajout appelé');\n    this.router.navigate(['/Ajouter-policy']);\n  }\n  applyFilter(event) {\n    const filterValue = event.target.value;\n    console.log(filterValue);\n    if (filterValue != \"\") {\n      this.listpolicy = this.listpolicy.filter(item => item.nom.toLowerCase().startsWith(filterValue.toLowerCase()));\n    }\n    if (filterValue == \"\") {\n      this.ngOnInit();\n    }\n  }\n  static #_ = this.ɵfac = function ListPolicyUserComponent_Factory(t) {\n    return new (t || ListPolicyUserComponent)(i0.ɵɵdirectiveInject(i1.PolicyService), i0.ɵɵdirectiveInject(i2.Router));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ListPolicyUserComponent,\n    selectors: [[\"app-list-policy-user\"]],\n    standalone: true,\n    features: [i0.ɵɵStandaloneFeature],\n    decls: 12,\n    vars: 1,\n    consts: [[1, \"filters\"], [1, \"input-group\", \"mb-3\"], [\"type\", \"text\", \"placeholder\", \"Search Keywords\", \"aria-label\", \"Search Keywords\", \"aria-describedby\", \"search-button\", 1, \"form-control\", 3, \"keyup\"], [\"type\", \"button\", \"id\", \"search-button\", 1, \"btn\", \"btn-outline-secondary\"], [1, \"container\", \"mt-5\"], [1, \"row\"], [\"class\", \"col-md-4 mb-4\", 4, \"ngFor\", \"ngForOf\"], [\"routerLink\", \"/Statpolicies\", 1, \"btn\", \"btn-primary\"], [1, \"col-md-4\", \"mb-4\"], [1, \"card\"], [1, \"card-body\"], [1, \"card-title\"], [1, \"icon\"], [1, \"fas\", \"fa-user\"], [1, \"card-text\"], [1, \"fas\", \"fa-briefcase\"], [1, \"btn\", \"btn-success\"], [1, \"fas\", \"fa-plus\"]],\n    template: function ListPolicyUserComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"h5\");\n        i0.ɵɵtext(2, \"Search\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"div\", 1)(4, \"input\", 2);\n        i0.ɵɵlistener(\"keyup\", function ListPolicyUserComponent_Template_input_keyup_4_listener($event) {\n          return ctx.applyFilter($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"button\", 3);\n        i0.ɵɵtext(6, \"Search\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(7, \"div\", 4)(8, \"div\", 5);\n        i0.ɵɵtemplate(9, ListPolicyUserComponent_div_9_Template, 15, 2, \"div\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"button\", 7);\n        i0.ɵɵtext(11, \"Statistiques sur les politiques\");\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"ngForOf\", ctx.listpolicy);\n      }\n    },\n    dependencies: [CommonModule, i3.NgForOf, ReactiveFormsModule, FormsModule],\n    styles: [\".card[_ngcontent-%COMP%] {\\n  width: 300px;\\n  background-color: #f0f0f0;\\n  border-radius: 10px;\\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\\n  margin: 20px auto;\\n  padding: 20px;\\n}\\n\\n.logo[_ngcontent-%COMP%] {\\n  text-align: center;\\n}\\n\\n.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\n  width: 50px;\\n  height: 50px;\\n  margin-bottom: 10px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvbGlzdC1wb2xpY3ktdXNlci9saXN0LXBvbGljeS11c2VyLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksWUFBQTtFQUNBLHlCQUFBO0VBQ0EsbUJBQUE7RUFDQSx3Q0FBQTtFQUNBLGlCQUFBO0VBQ0EsYUFBQTtBQUNKOztBQUVFO0VBQ0Usa0JBQUE7QUFDSjs7QUFFRTtFQUNFLFdBQUE7RUFDQSxZQUFBO0VBQ0EsbUJBQUE7QUFDSiIsInNvdXJjZXNDb250ZW50IjpbIi5jYXJkIHtcclxuICAgIHdpZHRoOiAzMDBweDtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNmMGYwZjA7XHJcbiAgICBib3JkZXItcmFkaXVzOiAxMHB4O1xyXG4gICAgYm94LXNoYWRvdzogMCA0cHggOHB4IHJnYmEoMCwgMCwgMCwgMC4xKTtcclxuICAgIG1hcmdpbjogMjBweCBhdXRvO1xyXG4gICAgcGFkZGluZzogMjBweDtcclxuICB9XHJcbiAgXHJcbiAgLmxvZ28ge1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gIH1cclxuICBcclxuICAubG9nbyBpbWcge1xyXG4gICAgd2lkdGg6IDUwcHg7XHJcbiAgICBoZWlnaHQ6IDUwcHg7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xyXG4gIH1cclxuICAiXSwic291cmNlUm9vdCI6IiJ9 */\"]\n  });\n}","map":{"version":3,"names":["FormGroup","FormControl","Validators","ReactiveFormsModule","FormsModule","CommonModule","i0","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","ɵɵtext","ɵɵadvance","ɵɵtextInterpolate1","policy_r1","nom","rules","ListPolicyUserComponent","constructor","policyService","router","listpolicy","policy","selectedPolicy","policyForm","required","ngOnInit","loadPolicies","getPolicy","subscribe","data","switchToAddMode","console","log","navigate","applyFilter","event","filterValue","target","value","filter","item","toLowerCase","startsWith","_","ɵɵdirectiveInject","i1","PolicyService","i2","Router","_2","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","ListPolicyUserComponent_Template","rf","ctx","ɵɵlistener","ListPolicyUserComponent_Template_input_keyup_4_listener","$event","ɵɵtemplate","ListPolicyUserComponent_div_9_Template","ɵɵproperty","i3","NgForOf","styles"],"sources":["C:\\PIDataCatalogDREAMIT\\FrontMetaData\\src\\app\\list-policy-user\\list-policy-user.component.ts","C:\\PIDataCatalogDREAMIT\\FrontMetaData\\src\\app\\list-policy-user\\list-policy-user.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup, FormControl, Validators, ReactiveFormsModule, NgModel, FormsModule } from '@angular/forms';\r\nimport { CommonModule } from '@angular/common';\r\nimport { Policy } from '../core/models/policy';\r\nimport { PolicyService } from '../core/services/policy.service';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-list-policy-user',\r\n  standalone: true,\r\n  imports: [CommonModule, ReactiveFormsModule, FormsModule],\r\n  templateUrl: './list-policy-user.component.html',\r\n  styleUrl: './list-policy-user.component.scss'\r\n})\r\nexport class ListPolicyUserComponent implements OnInit {\r\n  listpolicy: Policy[] = [];\r\n  policy:Policy[] = [];\r\n  policyForm: FormGroup;\r\n  selectedPolicy: Policy | null = null;\r\n\r\n  constructor(private policyService: PolicyService ,private router: Router ) {\r\n    // Initialisez votre formulaire ici\r\n    this.policyForm = new FormGroup({\r\n      nom: new FormControl('', [Validators.required]),\r\n      rules: new FormControl('', [Validators.required])\r\n    });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.loadPolicies();\r\n  }\r\n\r\n  \r\n\r\n  loadPolicies(): void {\r\n    this.policyService.getPolicy().subscribe((data: Policy[]) => {\r\n      this.listpolicy = data;\r\n    });\r\n  }\r\n\r\n\r\n\r\n  switchToAddMode(): void {\r\n    console.log('Passer à l\\'ajout appelé');\r\n    this.router.navigate(['/Ajouter-policy']);\r\n  }\r\n \r\n\r\n  applyFilter(event: Event) {\r\n    const filterValue = (event.target as HTMLInputElement).value;\r\n    console.log(filterValue);\r\n    if(filterValue!=\"\"){\r\n      this.listpolicy = this.listpolicy.filter(item => item.nom\r\n        .toLowerCase().startsWith(filterValue\r\n        .toLowerCase()));\r\n    }\r\n    if(filterValue==\"\") {\r\n      this.ngOnInit();\r\n    }\r\n  }\r\n\r\n}\r\n\r\n","<div class=\"filters\">\r\n    <h5>Search</h5>\r\n    <div class=\"input-group mb-3\">\r\n      <input (keyup)=\"applyFilter($event)\" type=\"text\" class=\"form-control\" placeholder=\"Search Keywords\" aria-label=\"Search Keywords\" aria-describedby=\"search-button\">\r\n      <button class=\"btn btn-outline-secondary\" type=\"button\" id=\"search-button\">Search</button>\r\n    </div>\r\n  </div>\r\n  \r\n  <div class=\"container mt-5\">\r\n    <div class=\"row\">\r\n      <div class=\"col-md-4 mb-4\" *ngFor=\"let policy of listpolicy\">\r\n        <div class=\"card\">\r\n          <div class=\"card-body\">\r\n            <h5 class=\"card-title\">\r\n              <span class=\"icon\">\r\n                <i class=\"fas fa-user\"></i> <!-- Icône pour le nom -->\r\n              </span>\r\n              {{ policy.nom }}\r\n            </h5>\r\n            <p class=\"card-text\">\r\n              <span class=\"icon\">\r\n                <i class=\"fas fa-briefcase\"></i> <!-- Icône pour les règles -->\r\n              </span>\r\n              {{ policy.rules }}\r\n            </p>\r\n            <button class=\"btn btn-success\">\r\n              <span class=\"icon\">\r\n                <i class=\"fas fa-plus\"></i> <!-- Icône pour les métadonnées -->\r\n              </span>\r\n              MetaData\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    \r\n    <button class=\"btn btn-primary\" routerLink=\"/Statpolicies\">Statistiques sur les politiques</button>\r\n  </div>\r\n  "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}